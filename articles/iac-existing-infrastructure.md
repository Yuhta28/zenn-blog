---
title: "既存インフラをコード化する時に気を付けること"
emoji: "🐁"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["AWS","Terraform","IaC"]
published: false
---

:::message
新年最初のJAWS-UGイベントに参加した時に、発表した内容をより詳しく補足している記事になります。
:::

https://jawsug-bgnr.connpass.com/event/235497/

# 概要

昨年の12月から社内のAWSインフラシステムをコード管理(IaC=Infrastructure as Code)しようという動きが始まりました。
新規リソースをTerraformやAWS CDKなどを活用してコード化する事例は数多く紹介されていましたが、意外と既存インフラをコード化する方法については数が少なく結構大変なことがありました。
この記事では私が直面した既存インフラのコード化でハマった点について紹介していきます。

# 背景
2020年まで社内のインフラチームは2人しかおらず、うち1人はマネージャーで基本的にビジネス職とのコミュニケーションがメインだったため実質1人でインフラ構築や運用、新規メディアサーバの作成を担当していました。
1人で検証環境のEC2インスタンス含め数百台のサーバを運用管理、新規メディアのサーバを構築していました。
![](/images/iac-existing-infrastructure/image1.png)